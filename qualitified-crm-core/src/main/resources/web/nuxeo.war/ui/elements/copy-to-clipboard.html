<link href="../copy-to-clipboard-behavior.html" rel="import">
<dom-module id="copy-to-clipboard">
    <template>
        <style>
      paper-icon-button {
       color: #c8c8c8a8;
       width: 30px !important;
       height: 30px !important;
      }
        </style>
        <paper-toast id="linkToast"></paper-toast>
        <paper-icon-button icon="icons:content-copy" id="copyButtonId"
                           on-tap="_copied"></paper-icon-button>
        <paper-tooltip for="copyButtonId" position="right">
            [[i18n('label.metadata.custom.copy.tooltip')]]
        </paper-tooltip>
    </template>
    <script>
    Polymer({
      is: 'copy-to-clipboard',
      behaviors: [
        Polymer.CopyToClipboardBehavior,Nuxeo.I18nBehavior
      ],
      properties: {
        clipboardValueToCopy: String
      },
      attached: function () {
          if (this.$.copyButtonId) this.clipboardSetup(this.$.copyButtonId)
      },
      _copied: function(){
            var textField = document.createElement('textarea');
            textField.innerText = this.clipboardValueToCopy;
            document.body.appendChild(textField);
            textField.select();
            textField.focus(); //SET FOCUS on the TEXTFIELD
            console.log('should have copied ' + textField);
            this.$.linkToast.text = this.i18n('label.metadata.custom.copy.toast');
            this.$.linkToast.open();
         }
    })
    </script>
</dom-module>